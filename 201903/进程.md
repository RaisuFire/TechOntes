####  进程 线程 协程
###### 进程：操作系统调用资源的最小单位 PID 时间片

** 多线程**

** 进程和线程 **

进程间通信：pipe file socket
线程间通信：可以看到进程中的全局数据

对于进程来说，你持有了一个页表
对于线程来说，共享一个页表

** 多线程同步问题**

核心在于：操作被拆分了

解决方案：
1. atomic &nbsp;&nbsp; swap_and_cmp
2. 加锁， mutex, 信号锁， 读写锁， 自旋锁
： 加锁以后，我对这个资源有所有权，在我操作没有结束前，其他操作这个数据的人，就得等待。

同步问题，产生了死锁：哲学家进餐

为什么死锁？获取资源的顺序不一样
1. 对于底下哲学家 先1后2
2. 对于上面哲学家 先2后1

所有的哲学家都是先1后2
1. 调整最后一个人的顺序
2. 如果我那不到右手，那我左手的也不要

线程安全的交换数据的函数
    swap(a,b)
    id(a) id(b)
    a.lock()
    b.lock()
    exchange(a.data, b.data)
    a.unlock()
    b.unlock()

    swap(a,b) ------ swap(b,a)
