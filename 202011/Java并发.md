#### 线程安全性
* 要写出线程安全的代码，核心在于要对状态访问操作进行管理，特别是对共享(Shared)的和可变(Mutable)的状态的访问
* 线程安全性-正确性
* 原子性
  1. 竞态条件：当某个计算的正确性取决于多个线程的交替执行时许时，就会发生竞态条件。
  2. 延迟初始化中的竞态条件：使用“先检查后执行”就是常见的一种延迟初始化，延迟初始化的目的时将对象的初始化操作推迟到实际被使用时才进行，同时要确保只被初始化一次。
  3. 符合操作，
* 加锁机制
  1. 内置锁，同步代码块(synchronized block)
  2. 重入，JVM几下锁的持有者，+-计数，为0时释放锁。
* 用锁来保护状态
  1. 用锁能使其保护的代码路径以串行形式来访问，因此可以通过锁来构造一些协议以实现对共享状态的独占访问。
* 活跃性和性能
  1. 不良并发程序
* 在访问共享的可变状态时需要进行正确的管理。
